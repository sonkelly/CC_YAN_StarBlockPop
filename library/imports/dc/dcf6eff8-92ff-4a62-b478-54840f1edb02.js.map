{"version":3,"sources":["assets\\Script\\AnimLayerTool.js"],"names":["CardSprite","require","GameConfig","GameTools","GameUiTools","DEVICE_WIDTH","DEVICE_HEIGHT","MoveButtonAnimType","up","down","left","right","leftUp","leftDown","rightUp","rightDown","AnimLayerTool","moveButtonAnimTime","bottonAnim","button","arrayNode","Array","length","undefined","i","time","Math","random","width","height","anim1","cc","jumpBy","v2","anim2","anim3","scaleBy","anim4","delayTime","actions","sequence","reverse","runAction","repeatForever","createShowMessageBox","x","y","name","rotation","parentNode","createShowMessageBoxAward","engineType","message","Node","getSpriteFrame","addComponent","Sprite","playSimpleAudioEngine","setPosition","opacity","addChild","action1","fadeIn","action2","action3","fadeOut","moveFinish","callFunc","callFuncAddScore","action4","moveButtonAnim","isShow","moveButtonAnimType","positionX","positionY","size","getContentSize","moveTo","createAddScore","addScore","addScoreSprite","lable","Label","font","numberLabelAtlas","string","GameScene","node","move1","moveBy","move2","move3","spawn","sender","destroy","createScoreMoveAnim","from","score","scoreType","scoreNumberTTF","getParent","callFuncScoreMoveAnim","easing","easeExponentialIn","GameLogic","setScore","createChangeCardNumAnim","card","num","cardSprite","createCardSprite","getNumber","getPositionX","getPositionY","active","setNumber","scaleTo","easeBackIn","moveFinish1","callFuncChangeCardNum1","moveFinish2","callFuncChangeCardNum2","CardShow","funData","createExchangeCardAnim","z","X","Y","unitSize","CARD_WIDTH","CAED_LINES","card1","clone","card2","card3","card4","createRemoveExchangeCardAnim","removeChildByTag","createScaleToCard","number","setScale","easeBackOut","callFuncCard1","createMoveAnim","to","isShowAnim","callFuncCard2","easeBackInOut","jumpTo","scale","callFuncCard3","createPopStarAnim","dTime","callFuncPopStarAnim","emitterNode","getPosition","move_emitter","ParticleSystem","texture","startColor","color","startColorVar","endColorVar","endColor","autoRemoveOnFinish","duration","emissionRate","life","lifeVar","angle","angleVar","custom","playOnLoad","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var CardSprite = require(\"CardSprite\");\nvar GameConfig = require(\"GameConfig\");\nvar GameTools = require(\"GameTools\");\nvar GameUiTools = require(\"GameUiTools\");\nvar DEVICE_WIDTH = GameConfig.DEVICE_WIDTH;\nvar DEVICE_HEIGHT = GameConfig.DEVICE_HEIGHT;\nvar MoveButtonAnimType = {\n    up: 0,//向上\n    down: 1,//向下\n    left: 2,//向左\n    right: 3,//向右\n    leftUp: 4,//左上\n    leftDown: 5,//左下\n    rightUp: 6,//右上\n    rightDown: 7,//右下\n};\nvar AnimLayerTool = {\n    moveButtonAnimTime: 0.3,// 按钮动画移动时间\n    MoveButtonAnimType: MoveButtonAnimType,\n    bottonAnim: function (button) {// 创建按钮特效\n        let arrayNode = new Array();\n        if (button.length == undefined) {\n            arrayNode[0] = button;\n        } else {\n            arrayNode = button;\n        }\n        for (let i = 0; i < arrayNode.length; i++) {\n            // let time = cc.random0To1() * 5 + 1;\n            let time = Math.random() * 5 + 1;\n            let width = arrayNode[i].height / 20.0;\n            let anim1 = cc.jumpBy(time, cc.v2(width, 0), width, 1);\n            let anim2 = cc.jumpBy(time, cc.v2(-width, 0), -width, 1);\n            let anim3 = cc.scaleBy(0.3, 1.1, 0.9);\n            let anim4 = cc.delayTime(time);\n            let actions = cc.sequence(anim1, anim2, anim3, anim3.reverse(), anim4);\n            arrayNode[i].runAction(actions.repeatForever());\n        }\n    },\n    createShowMessageBox(x, y, name, rotation, parentNode) {\n    },\n    createShowMessageBoxAward(parentNode, engineType) //创建奖励消息提示框\n    {\n        let message = new cc.Node();\n        if (engineType == -1) {\n            // message.addComponent(cc.Sprite).spriteFrame = GameTools.love2048FrameCache.getSpriteFrame(\"toast6\");\n        } else if (engineType < 6) {\n            return;\n        } else if (engineType < 8) {\n            GameUiTools.getSpriteFrame(\"pop_nopack/txt_good\", message.addComponent(cc.Sprite));\n        } else if (engineType < 10) {\n            GameUiTools.getSpriteFrame(\"pop_nopack/txt_cool\",message.addComponent(cc.Sprite));\n        } else if (engineType < 12) {\n            GameUiTools.getSpriteFrame(\"pop_nopack/txt_verygood\", message.addComponent(cc.Sprite));\n        } else if (engineType < 14) {\n            GameUiTools.getSpriteFrame(\"pop_nopack/txt_smart\", message.addComponent(cc.Sprite));\n        } else {\n            GameUiTools.getSpriteFrame(\"pop_nopack/txt_boom\", message.addComponent(cc.Sprite));\n        }\n        GameTools.playSimpleAudioEngine(3);\n        message.setPosition(0, 0);\n        // message.setOpacity(0);\n        message.opacity = 0;\n        parentNode.addChild(message);\n\n        let action1 = cc.fadeIn(0.5);\n        let action2 = cc.delayTime(1);\n        let action3 = cc.fadeOut(0.5);\n        let moveFinish = cc.callFunc(this.callFuncAddScore, this, message);\n        let action4 = cc.sequence(action1, action2, action3, moveFinish);\n        message.runAction(action4);\n    },\n    moveButtonAnim: function (button, isShow, moveButtonAnimType) {// 按钮消失或出现动画\n        let positionX = button.x;\n        let positionY = button.y;\n        let size = button.getContentSize();\n        if (isShow) {\n            switch (moveButtonAnimType) {\n                case 0:// up:\n                    button.setPosition(positionX, DEVICE_HEIGHT + size.height);\n                    break;\n                case 1:// down:\n                    button.setPosition(positionX, -size.height);\n                    break;\n                case 2:// left:\n                    button.setPosition(-size.width, positionY);\n                    break;\n                case 3:// right:\n                    button.setPosition(DEVICE_WIDTH + size.width, positionY);\n                    break;\n                case 4:// leftUp:\n                    button.setPosition(-size.width, DEVICE_HEIGHT + size.height);\n                    break;\n                case 5:// leftDown:\n                    button.setPosition(-size.width, -size.height);\n                    break;\n                case 6:// rightUp:\n                    button.setPosition(DEVICE_WIDTH + size.width, DEVICE_HEIGHT + size.height);\n                    break;\n                case 7:// rightDown:\n                    button.setPosition(DEVICE_WIDTH + size.width, -size.height);\n                    break;\n                default:\n                    break;\n            }\n            let anim1 = cc.moveTo(this.moveButtonAnimTime, cc.v2(positionX, positionY));\n            button.runAction(anim1);\n        }\n        else {\n            let anim1;\n            switch (moveButtonAnimType) {\n                case 0:// up:\n                    anim1 = cc.moveTo(this.moveButtonAnimTime, cc.v2(positionX, DEVICE_HEIGHT + size.height));\n                    break;\n                case 1:// down:\n                    anim1 = cc.moveTo(this.moveButtonAnimTime, cc.v2(positionX, -size.height));\n                    break;\n                case 2:// left:\n                    anim1 = cc.moveTo(this.moveButtonAnimTime, cc.v2(-size.width, positionY));\n                    break;\n                case 3:// right:\n                    anim1 = cc.moveTo(this.moveButtonAnimTime, cc.v2(DEVICE_WIDTH + size.width, positionY));\n                    break;\n                case 4:// leftUp:\n                    anim1 = cc.moveTo(this.moveButtonAnimTime, cc.v2(-size.width, DEVICE_HEIGHT + size.height));\n                    break;\n                case 5:// leftDown:\n                    anim1 = cc.moveTo(this.moveButtonAnimTime, cc.v2(-size.width, -size.height));\n                    break;\n                case 6:// rightUp:\n                    anim1 = cc.moveTo(this.moveButtonAnimTime, cc.v2(DEVICE_WIDTH + size.width, DEVICE_HEIGHT + size.height));\n                    break;\n                case 7:// rightDown:\n                    anim1 = cc.moveTo(this.moveButtonAnimTime, cc.v2(DEVICE_WIDTH + size.width, -size.height));\n                    break;\n                default:\n                    break;\n            }\n            button.runAction(anim1);\n        }\n    },\n\n    createAddScore(addScore) //创建加分动画\n    {\n        let addScoreSprite = new cc.Node();\n        let lable = addScoreSprite.addComponent(cc.Label);\n        lable.font = GameTools.numberLabelAtlas;\n        lable.string = \":\" + addScore;\n        addScoreSprite.setPosition(-46, 505);\n        // addScoreSprite.setOpacity(100);\n        addScoreSprite.opacity = 0;\n        GameConfig.GameScene.node.addChild(addScoreSprite);\n        let move1 = cc.moveBy(0.3, 0, 106);\n        let move2 = cc.fadeIn(0.2);\n        let move3 = cc.spawn(move1, move2);\n        let moveFinish = cc.callFunc(this.callFuncAddScore, this, addScoreSprite);\n        addScoreSprite.runAction(cc.sequence(move3, moveFinish));\n    },\n    callFuncAddScore(sender, node) //创建加分动画监听\n    {\n        sender.destroy();\n    },\n    createScoreMoveAnim: function (from, score, scoreType) { //创建得分移动动画\n        if (score > 0) {\n            let scoreNumberTTF = new cc.Node();\n            let lable = scoreNumberTTF.addComponent(cc.Label);\n            lable.font = GameTools.numberLabelAtlas;\n            lable.string = \":\" + score;\n            scoreNumberTTF.setPosition(from.x, from.y);\n            from.getParent().addChild(scoreNumberTTF);\n            let moveFinish = cc.callFunc(this.callFuncScoreMoveAnim, this, scoreNumberTTF);\n            let move1 = null;\n            if (scoreType) {\n                move1 = cc.moveTo(1, 58 + 360, 408 + 640);\n            } else {\n                move1 = cc.moveTo(1, -259 + 360, 290 + 640);\n            }\n            move1.easing(cc.easeExponentialIn());\n            scoreNumberTTF.runAction(cc.sequence(move1, moveFinish));\n        }\n    },\n    callFuncScoreMoveAnim: function (sender, scoreNumberTTF) { //得分移动动画监听\n        GameConfig.GameLogic.setScore();\n        scoreNumberTTF.destroy();\n    },\n\n    createChangeCardNumAnim: function (card, num) //创建移除动画\n    {\n        let cardSprite = CardSprite.createCardSprite(card.getNumber(), card.getPositionX(), card.getPositionY());\n        card.getParent().addChild(cardSprite);\n        card.active = false;\n        card.setNumber(num);\n        cardSprite.setNumber(num);\n\n        let action2 = cc.scaleTo(0.3, 0);\n        action2.easing(cc.easeBackIn())\n        let action3 = cc.scaleTo(0.1, 1);\n        let moveFinish1 = cc.callFunc(this.callFuncChangeCardNum1, this, cardSprite);\n        let moveFinish2 = cc.callFunc(this.callFuncChangeCardNum2, this, [cardSprite, card]);\n        let actions = cc.sequence(action2, moveFinish1, action3, moveFinish2);\n        cardSprite.runAction(actions);\n    },\n    callFuncChangeCardNum1: function (sender, cardSprite) //卡片移除特效监听\n    {\n        cardSprite.CardShow();\n    },\n    callFuncChangeCardNum2: function (sender, funData) //卡片移除特效监听\n    {\n        let cardSprite = funData[0];\n        let card = funData[1];\n        card.CardShow();\n        card.active = true;\n        cardSprite.destroy();\n    },\n    createExchangeCardAnim: function (card, z, x) //创建道具交换特效\n    {\n        let X = card.getPositionX();\n        let Y = card.getPositionY();\n        let unitSize = GameConfig.CARD_WIDTH / (GameConfig.CAED_LINES + 1);\n        let move1 = cc.scaleBy(0.4, 1.15);\n        let actions = cc.sequence(move1, move1.reverse());\n        if (z > 0) {\n            let card1 = CardSprite.createCardSprite(-1, X - unitSize - GameConfig.CARD_WIDTH, Y);\n            card.getParent().addChild(card1);\n            card1.runAction(actions.clone().repeatForever());\n        }\n        if (z < GameConfig.CAED_LINES - 1) {\n            let card2 = CardSprite.createCardSprite(-1, X + unitSize + GameConfig.CARD_WIDTH, Y);\n            card.getParent().addChild(card2);\n            card2.runAction(actions.clone().repeatForever());\n        }\n        if (x > 0) {\n            let card3 = CardSprite.createCardSprite(-1, X, Y - unitSize - GameConfig.CARD_WIDTH);\n            card.getParent().addChild(card3);\n            card3.runAction(actions.clone().repeatForever());\n        }\n        if (x < GameConfig.CAED_LINES - 1) {\n            let card4 = CardSprite.createCardSprite(-1, X, Y + unitSize + GameConfig.CARD_WIDTH);\n            card.getParent().addChild(card4);\n            card4.runAction(actions.clone().repeatForever());\n        }\n    },\n\n    createRemoveExchangeCardAnim: function (card, z, x) //创建道具移除交换特效\n    {\n        if (z > 0) {\n            card.getParent().removeChildByTag(2001);\n        }\n        if (z < GameConfig.CAED_LINES - 1) {\n            card.getParent().removeChildByTag(2002);\n        }\n        if (x > 0) {\n            card.getParent().removeChildByTag(2003);\n        }\n        if (x < GameConfig.CAED_LINES - 1) {\n            card.getParent().removeChildByTag(2004);\n        }\n    },\n\n    createScaleToCard: function (card) {// 创建卡片初始化动画\n        let cardSprite = CardSprite.createCardSprite(card.number, card.x, card.y);\n        card.getParent().addChild(cardSprite);\n        card.active = false;\n        cardSprite.setScale(0);\n        let action2 = cc.scaleTo(0.3, 1);\n        action2.easing(cc.easeBackOut());\n        let moveFinish = cc.callFunc(this.callFuncCard1, this, [cardSprite, card]);\n        cardSprite.runAction(cc.sequence(action2, moveFinish));\n    },\n    callFuncCard1: function (node, cardSprite) {\n        cardSprite[1].CardShow();\n        cardSprite[1].active = true\n        cardSprite[0].destroy();\n    },\n\n    createMoveAnim: function (from, to, isShowAnim) {\n        let cardSprite = CardSprite.createCardSprite(from.number, from.x, from.y);\n        to.getParent().addChild(cardSprite);\n        let i = 0;\n        let moveFinish = cc.callFunc(this.callFuncCard2, this, [cardSprite, to, isShowAnim]);\n        let move1 = cc.moveTo(0.3, cc.v2(to.x, to.y));\n        if (i < 1) {\n            move1 = cc.moveTo(0.1, cc.v2(to.x, to.y));\n        } else if (i < 2) {\n            move1.easing(cc.easeBackIn());\n        } else if (i < 3) {\n            move1.easing(cc.easeBackOut());\n        } else if (i < 4) {\n            move1.easing(cc.easeBackInOut());\n        } else if (i < 5) {\n            move1 = cc.jumpTo(0.3, cc.v2(to.x, to.y), GameConfig.CARD_WIDTH, 2);\n        }\n        cardSprite.runAction(cc.sequence(move1, moveFinish));\n    },\n    callFuncCard2: function (sender, to) {\n        to[1].CardShow();\n        if (to[2]) {\n            to[0].number = to[1].number;\n            to[0].CardShow();\n            let scale = cc.scaleBy(0.02, 1.15);\n            let moveFinish = cc.callFunc(this.callFuncCard3, this, to[0]);\n            to[0].runAction(cc.sequence(scale, scale.reverse(), moveFinish));\n        }\n        else {\n            to[0].destroy();\n        }\n    },\n    callFuncCard3: function (sender, card) {\n        card.destroy();\n    },\n    createPopStarAnim(from, dTime) //创建卡片爆炸特效\n    {\n        let moveFinish2 = cc.callFunc(this.callFuncPopStarAnim, this, from);\n        // from.runAction(cc.sequence(cc.delayTime(dTime), moveFinish2, cc.hide()));\n        from.runAction(cc.sequence(cc.delayTime(dTime), moveFinish2, cc.fadeOut()));\n    },\n    callFuncPopStarAnim(sender, from) //卡片爆炸特效监听\n    {\n        GameTools.playSimpleAudioEngine(0);\n        let emitterNode = new cc.Node();\n        emitterNode.setPosition(from.getPosition());\n        let move_emitter = emitterNode.addComponent(cc.ParticleSystem);\n        // let move_emitter = ParticleExplosion.createWithTotalParticles(30);\n        // let move_emitter = new cc.ParticleSystem(30);\n        switch (from.getNumber()) {\n            // case 2:\n            //     move_emitter.texture = \"res/raw-assets/resources/particals/noe/partical_tex_yellow\";\n            //     break;\n            // case 4:\n            //     move_emitter.texture = \"res/raw-assets/resources/particals/noe/partical_tex_blue\";\n            //     break;\n            // case 8:\n            //     move_emitter.texture = \"res/raw-assets/resources/particals/noe/partical_tex_green\";\n            //     break;\n            // case 16:\n            //     move_emitter.texture = \"res/raw-assets/resources/particals/noe/partical_tex_red\";\n            //     break;\n            // case 32:\n            //     move_emitter.texture = \"res/raw-assets/resources/particals/noe/partical_tex_purple\";\n            //     break;\n            case 2:\n                move_emitter.texture = \"pop_game/n6\";\n                break;\n            case 4:\n                move_emitter.texture = \"pop_game/n6\";\n                break;\n            case 8:\n                move_emitter.texture = \"pop_game/n6\";\n                break;\n            case 16:\n                move_emitter.texture = \"pop_game/n6\";\n                break;\n            case 32:\n                move_emitter.texture = \"pop_game/n6\";\n                break;\n                \n        }\n        move_emitter.startColor = cc.color(255, 255, 255, 255);\n        move_emitter.startColorVar = cc.color(0, 0, 0, 0);\n        move_emitter.endColorVar = cc.color(0, 0, 0, 0);\n        move_emitter.endColor = move_emitter.startColor;\n        move_emitter.autoRemoveOnFinish = true;\n\n        move_emitter.duration = 0.1;\n        move_emitter.emissionRate = 100;\n        move_emitter.life = 2;\n        move_emitter.lifeVar = 0.5;\n        move_emitter.angle = 90;\n        move_emitter.angleVar = 360;\n        move_emitter.custom = true;\n        move_emitter.playOnLoad = true;\n        from.getParent().addChild(emitterNode);\n    },\n};\n\nmodule.exports = AnimLayerTool;"]}